function add_quote(e,t,a,s){var o="";a<100&&(o="large"),a<200&&a>100&&(o="regular"),a>200&&(o="small");var r=new Date,d=((""+r.getHours()).length<2?"0":"")+r.getHours(),n=((""+r.getMinutes()).length<2?"0":"")+r.getMinutes(),u=((""+r.getSeconds()).length<2?"0":"")+r.getSeconds(),l="<footer><author>"+s+"</author> - <time>"+d+":"+n+":"+u+"</time></footer>";$("<blockquote class='"+o+"'>"+t+l+"</blockquote>").appendTo("#auto-scroll").hide().slideDown()}function chat_reader(e,t,a){if($("#timer-bar svg").animate({"stroke-dashoffset":"204.24"},0),null!=e[t].text){var s=e[t].text.length,o=100*s,r=e.length-1;add_quote(t,e[t].text,s,e[t].author)}$("#quotes-count").html('<span class="index">'+(t+1)+'</span>/<span class="total">'+(r+1)),$("#timer-bar svg").animate({"stroke-dashoffset":"0"},o),t<r?setTimeout(function(){t++,chat_reader(e,t)},o):setTimeout(function(){query()},o)}function load_quotes(e){if($("#loader").addClass("active"),void 0===themes_already_used){var t={chat:"query"};console.log("themes_already_used not defined")}else{var t={chat:"query",themes:JSON.stringify(themes_already_used)};console.log(themes_already_used)}$.ajax({url:"data/index.php",type:"GET",data:t,dataType:"json",success:e,complete:function(e,t){$("#loader").removeClass("active")}})}function query(){load_quotes(function(e){return themes_already_used=e.themes,chat_reader(e.texts,0,themes_already_used),themes_already_used})}var themes_already_used=[];$(document).ready(function(){query(themes_already_used)});